<!doctype html>

<dom-module id="users-page">
  <template>
    <h2>Users</h2>
    <iron-ajax auto url="https://g1.firebaseio.com/share/users.json" last-response="{{cards}}"></iron-ajax>  
    <card-display cards="{{cardsAsA}}" ></card-display>
  </template>
  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'users-page',
        properties: {
          cardsAsA: {
            computed: "objectToArray(cards)"
          },
        },
        objectToArray: function(data) {
          var output = []
          if (data) {
            var keys = Object.keys(data)
            for (var i = 0; i < keys.length; i++) {
              if (typeof data[keys[i]] === 'object') {
                output.push(data[keys[i]])
              }
            }
          }
          return output
        }
      });
    })();
  </script>
</dom-module>
