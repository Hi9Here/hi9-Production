<!doctype html>
<html>
  <head>
    <title>add-card demo</title>
    <script src="/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="/bower_components/iron-location/iron-location.html">
    <link rel="import" href="/bower_components/card-display/card-display.html">
    <link rel="import" href="/bower_components/polymer/polymer.html">
  </head>
  <body>
    <add-card></add-card>
  </body>
</html>


<!--
`<add-card></add-card>` 
@demo demo.html
-->

<dom-module id="add-card">
  <template>
    <iron-location hash="{{a}}"></iron-location>
    <card-display pickable cards="{{cards}}"></card-display>
  </template>
</dom-module>
<script>
Polymer({
  is: "add-card",
  properties: {
    data: {computed: "decode(a)"},
    cards: {computed: "getOptions(data)"}
  },
  decode: function(a) {
    return JSON.parse(decodeURIComponent(a))
  },
  getOptions: function(data) {
    var output = []
    var tpl = '<div style="float:left;background-size: contain;background-position: center;display:inline-block;width:32px;height:32px; background-image:url({{_fav}});background-repeat:no-repeat"></div><h3 style="margin:0px;padding:10px;font-size: 15px;">{{title}}</h3><div style="max-width:80%;background-size: contain;background-position: center;display:inline-block;width:200px;height:147px; background-image:url({{_image}});background-repeat:no-repeat"></div>'
    output.push({title: data.title, url:data.url, _image:data.image, _fav:data.fav, _data:tpl})
    for (var i = 0;i < data.alt.length; i++) {
      output.push({title: data.title, url:data.url, _image:data.alt[i], _fav:data.fav, _data:tpl})
    }
    return output
  }
})
</script>
